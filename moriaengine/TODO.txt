----------------------------------------------------
!!!!BUGs!!!!

Overit vytvareni postavy na clientu 501j

TagHolders must be actively removed - to remove timers from Timer's static container.
	I had no time to look at that at this point. -tar

lscript: print(System.DateTime.Now.Ticks) - exception

LScript (methodwrapper) neumi poustet metodu na objektech generickych typu

argv(0).tag.pages[<idx>] (argv(0).tag.pages je LIST<>)
	ERROR: (pages.scp, 15) Nothing to replace the node <ARG(idx)> at ARGV0.TAG(pages).INDEX(<ARG(idx)>).  with. This should not happen.

v LSCriptu nelze pouzivat standardni settery pole:
	23:40: ERROR: (G:\SteamEngine\MoriaEngineSVN\moriaengine\scripts\systems\administration\Pages\pages.scp, 141) The type System.Object[] is not indexable
   at function/trigger 3	(G:\SteamEngine\MoriaEngineSVN\moriaengine\scripts\systems\administration\Pages\pages.scp, 144) 
	at SteamEngine.LScript.OpNode_Lazy_Indexer.Run(ScriptVars vars) 
	at SteamEngine.LScript.OpNode_Lazy_ExpressionChain.Run(ScriptVars vars) 
	at SteamEngine.LScript.OpNode_Script.Run(ScriptVars vars) 
	at SteamEngine.LScript.LScriptHolder.Run(Object self, ScriptArgs sa) 
	at SteamEngine.ScriptHolder.TryRun(Object self, ScriptArgs sa) 

	vyhoxzeno pri pouziti : dsi.Args[0] = SortingCriteria.NameAsc //uprav info o sortovani
	docasne bylo niutno nahradit pomoci dsi.Args.set_Item(0,SortingCriteria.NameAsc) //uprav info o sortovani


Vyresit nutnost nejakyho nastaveni regionu pri prvnim spusteni sveta (viz vypis)
	CRITICAL: Regions not used.: No world region defined. at SteamEngine.Region.LoadingFinished() 
			IP Address 0 : xxx.xxx.xxx.xxx
	nutno prozatim volat Exportutils.ImportRegions



----------------------------------------------------


Stuff assigned to individual devs:	


tar
----------------------------------------------------
	Color	Setting collors may be part of an item/char/whatever Def instead of setting it in an On_Create trigger.
	
	Combat  Colors, right ? Make them visible ? Right ? Like ... I'm comming to the monster yeah ? Now, Im trying to kill it so
		I'm targetting the monster by dclicking on him and here we are, The monster must turn red or such ... like his status collor
		or something. So while I'm moving target over any monster, there should be this color change and already targetted monster,
		that is the one, I'm attacking, must stay colored. And if you hadn't understood you are realy an ignorant .... at least.
	Multis
		MultiRegions
		Boats
		
		The Importer is importing multis and boats defs which are DUPEITEMs, since they don't say they're multis. Need
		to check what they're duping and if it won't be written, then don't write anything duping it either.
		This won't be an issue once multis and boats are imported, however, and it isn't affecting much right now,
		so it doesn't need to be done unless it gets annoying before the code to import multis and boats is written.

	try / catch kolem volani On_Udalost z jadra (equip, click, dclick, etc.)
	
	findtype, findid - najit nebo implementovat

	Identifikace objektu pro import/export
	
	Attr jako alternativu pro Flags u itemu, vyresit pouzivani nerezervovanych bitu
			
	LScript: 
		various for* statements from 55ir (not sure if I will bother with them, there is a generic FOREACH...)
		DOSWITCH (the sphere's thingy)
		DORAND
		resource lists? or are they just matter of property loading?
		
		while(a < b) no more causing syntax error. need to rewrite the grammar quite a bit... :\ or something.
		
	brain - patrne prednastavena sada vlastnosti a prepinacu pro obecnou AI
		and the AI implementation (ugh)
	
	make GameAccount overridable?
	
	make Globals overridable?
		
	Networking - sync/async, etc. - revise
	
	Huffman - revise, make the statistics work, fastdll?
	
	zipped gump packet

	"Garbage collection" - checking&fixing of game-objects invariants.

	
iwan
----------------------------------------------------
	Test under MONO.

	Online documentation.

	Service mode
	
Yavanna
----------------------------------------------------
	regbox, keg, atlas, svitkovac, atd.
	

Lokarel
----------------------------------------------------
	"firewall" - checking of connecting peoples IP's,
		special settings for particular ips, ip bans, special bans (like "ban everyone from this 
			ip except this one account")
		should have some nice interface. (.ini maybe, or ingame gump)
		definitely as a script (probably C#)
	
	additional feature for the "firewall": make a command that would be usable by players in the future, 
		which would enable them to constrain the range of IPs that can connect to their account, providing them with
		additional security. It could also send them a mail (see "Mailing system" above) if someone tried to break the
		rules they set. Basically, the rules would be "allow only this and that IP to connect" and 
		"allow my IP to change only once per hour/day/week/month/never", etc. Any more ideas are welcome, of course.
		This would possibly use a gump interface.
	
Dinivan
----------------------------------------------------
	Spawner
	
	Page command/menu

	Mailing system: a system of sysmessage and gump driven "post". Basic functionality would allow the system (scripts)
		and GMs to send messages to players even if they were offline. 
		Additionally, it could also allow players to communicate to each other. However, it would ned to resolve
		the problem with a player identifying another player.
			- Make a buddy-list where you could add people by targetting them?
			- Make player names unique?
			- System instantnich "whisper" zprav libovolnym ostatnim online hracum
			- ...?
	
	Gumpovej system pro ingame vytvareni/editaci/mazani regionu a pripadne jejich export/import na a z shardu.
		Patrne nutna spoluprace s tarem :)

	Account info dialog

		
	"Trestni rejstrik" pro hracsky accounty. Tj. Gump kde by GMka videli seznam dosavadnich prohresku a trestu na accountu, 
		plus by tam mohli psat vlastni nezavisle poznamky jako "je to druhej account hrace X" apod.
		S timhle souvisi vubec system prohresku a trestu, idealni by byla nejaka automatizace nebo temer automatizace,
		od udeleni trestu GMkem az po provedeni trestu systemem a exportem pro web. Good luck :)

	Group <cislo> pro gumpy
	
	Generator dokumentace (NDoc pro 2.0? nebo Sandcastle?)


Kemoc
----------------------------------------------------

	Oddeleni login serveru od game serveru

	Konzole: Dlouhy odkazy na soubory ("C:\SE\moria engine\scripts\kdesicosi.scp") se maj zobrazovat jen jako jmeno souboru
		("kdesicosi.scp"), ale konzole si musi nadale pamatovat tu cestu ktera tam byla napsana
	
	konzole: Pri nastaveni showCoreExceptions = false v .ini se misto mimoskriptovych radku stacktrace vypisuje jen
		[...]. Tento znak by idealne mohl byt rozbalovaci na poklikani ;)

	Konzole: udelat neco jako [filter na soucasny pythonicky konzoli co bezi na morii.
		Nebo vymyslet nejakou jinou, odpovidajici funkcionalitu, ktera by zabranovala spamu logovanych udalosti,
		ale nezabranovala vzdaleny praci s konzoli.
		
	Konzole: spravit poradi pamatovanych predchozich prikazu


UnAssigned

Easy stuff for anyone to do, in no particular order:
----------------------------------------------------

	t_door, t_door_locked, t_key

	Axis (pro vypravece): fungujici char spawny, fungujici item spawny (spawnujici i dovnitr kontejneru), 
		Item: nudge, create remove, nuke, flip, tile, Z, lockdown
		Summon Remove Set Home Set homedist shrink freeze kill
		General: skoro vsechno :)

	converter: convert name = log%s to singularname="log" and pluralname = "logs"

	Look through cliloc messages and sort them into appropriate text files (stealing.txt, etc).
		See "docs/cliloc messages/README and TODO and CHANGES" for details.

	Give the sounds after 476 in "src/Sounds.cs" more descriptive names.
	
	logovaci trida pro verbatima a spol. :) - kdovi co se tim myslelo :) kazdopadne uz existuje logovani do db
	
	party system

	logovani pohybu itemu po svete tak jak je to na morii, ale do db, podle vzoru logovani login/out characteru
	
	odesilani statusu kazdych x minut na DB


Not so easy :)
----------------------------------------------------
	Background save. Would need to copy the entire world in-memory first, 
		and then write it to files in the background.
		It would of course be an advantage only if the inmemory copy took fundamentally less time than the writing to files.

	(this was SL's, so now it's unassigned)
	1. Implement currently unimplemented packets, important ones recieving priority.
		Major systems, in no particular order:
			Cliloc stuff:
				Read cliloc.enu and record # of args for each cliloc#.
				Also use this to identify item cliloc #s (if they lack them), and set their FieldValue's CurrentValue only, so that
				they'll be saved after the override stuff is coded.

			right-click menus (req. cliloc stuff)
			God Client (Especially map and (the rest of) statics editing)
			
			Spellbooks

			AOS Houses
			Buying/selling
			Combat skill book things
			Profiles
			Books
			Parties
			'Tips' scrolls
			Messageboards
			Chat (Note: The Chat button was replaced in 4.0.5a by a Guild button. I wonder if the chat code
				is still in the client.)
			Guilds
	2. Add Iris detection code, and PlayUO detection code for IsIris and IsPlayUO.
		Quoth me:
			One thing of note is that the version (Of KUOC) I have seems to be sending ping packets every few seconds,
			but I'm willing to bet that is happening because SE isn't responding to them (Did it used to? At the very least,
			we can detect PlayUO/KUOC and send ping packets only to it, if that makes it stop spamming them constantly :P).
			
	...
	
	4.	Add an 'equippedDispid' FieldValue in ItemDef, and add the necessary code to packets stuff to make items
		with models which correspond to defs with that value, to display their dispid as equippedDispid instead.
		This would be primarily for the LBR monster-weapons which have no equipped art in the 2d client.
	5. Figure out how the 'resync' (0x22 from client) packet is supposed to be used (Eventually).
	6. Scripted item classes.
	7. More to do with hashed passwords:
		Password restrictions, specifiable with INI options, e.g:
			Minimum length of password
			Minimum number of numbers in password
			Minimum number of symbols in password
			Minimum number of alpha characters [a-zA-Z]
			Minimum number of alpha characters of the OPPOSITE case than is prevalent in the password. (eg in FUER#bNA7Z, there's 1 of these, in fuer#Bna72 there is also 1)			
		Password checking w/ a server command (runnable from the console only?) which uses a dictionary (200,000 words if we can find one that we can use)
		to check the hashed passwords - the dictionary words should be hashed once (and stored in a file).
		It should report "Soandso's password is a common word" or something like that. They should get a message on login too, until they change it,
		if their password is insecure or a common word, until they set a new password (which should also be checked).
		Restrict how often someone can change their password, restrict how often an IP can attempt to log in, possibly check for repeated attempts
		from the same general IP range, etc.
		
	8. Client-side uber-encryption wsock32 DLL, server-side support for it. Find the revised design doc
		for that, or revise the old version again: http://sourceforge.net/tracker/index.php?func=detail&aid=866003&group_id=90522&atid=593934
	
	Later: 
		*. Remove the hardcoded layer-converting stuff in ThingDef/ThingDefs/whatever, since stuff can convert
			from the scripted constants now.
		*. Make a test for RunTests which tests these to make sure they're constructed right:
			//{2301 2318}
			//{ color_red1 1 color_red2 1 }
			//{ i_studded_leggings 1 i_platemail_leggings 1 i_chainmail_leggings 1 i_leather_leggings 1 i_ringmail_leggings 1 }
			//{ random_shields }
			//{ i_cape 1 }	//this is apparently only ever done with 1
			//		I checked by searching all the *.scp I had with this regex: { *[a-zA-Z_]+ *[0-9]+ *}
			//		That syntax is handled by BraceTree, it strips out the number itself.
			//{ random_food 1 0 3 }
			//0 means none, so we'd return null in that case. (That one is used in an ITEM= statement, in fact it's ITEM={ random_food 1 0 3},{ 1 3 } - but that {},{} is not a weird {} format, it's two {}s, and ITEM can take two parameters (item,amount))
		
		*. diff mul files (those that make mapplanes different without using another mapxx.mul)
		*. mapxx.mul where xx > 0 (and statics, and other stuff)
		*. Check verdata.mul for data too, if it exists. Many patching programs use verdata.mul instead of the other muls.


	These do not necessarily need to be done soon, but they do need to be done eventually. Say, within
		9 months (Thus, before July 2005). That's a rough estimate, we'll see how it goes.
		-SL, Oct 21, 2004
			how funny. -tar (June 2005, nothing done :)
		
	These are in no particular order.
	
	1. Implement sphere commands. See http://www.cs.rit.edu/~djr7581/compendium.php)
		LegacyUtils class is for those.

	2. Go through scripts/defaults/itemdefs/newItemDefsFromMuls.def and move stuff to new .def files as appropriate,
		modifying as necessary. Test the stuff
		to see how it equips, make it unequippable if it is screwy, etc. DO NOT MOVE THESE INTO ANY FILE WHICH IS
		AUTOGENERATED (Better to say that than not to say it and have it not occur to someone). They should
		go into new files in scripts/defaults/itemdefs/. Don't bother prefixing the filenames with item_,
		since it would be best if they didn't get confused with the stuff the importer writes. If you make
		any new files, don't forget to use addfiles to add them to cvs (you'll need to use sendchanges
		afterwards too).
		
		Note that fromTileData.def contains only itemdefs which do not already exist somewhere else in the scripts,
		and the tiledata code will never write an itemdef into it which already exists, and it will never erase anything
		that is already in fromTileData.def.
		
		Things that need to be changed when those defs are moved:
		1) Check (with the 2D AOS client) the equippables to see if they are visible when equipped.
			If not, then mark them '//TODO: equippedDispid' so they'll get fixed later. If they equip and
			are visible, but look like old items when equipped, that's OK. If they have a really bizarre effect,
			note that in a comment, but leave them equippable, someone might want to use it. (example: 0x256f,
			"smyth hammer", which turns you into a bright white glowy female when you equip it)
		2) If an item should be twohanded (e.g. it is a weapon and it's on layer 2), then add twohands=true
			to the def.
		3) Move art which is for tiles (like lava) into a new tiles.def, and art which is for statics (like yew tree
			pieces) into statics.def. If those files don't exist, you can create them.
		4) Some items were not in the original sphere scripts but should have been, and you will find the missing
			items in fromTileData.def. These should be changed to dupeitems if appropriate. For example,
			there is another piece to the Yew Tree (which goes on the far left of it), 0x12b5.
		5) Add defnames to these things (but not necessarily to all of them - the tiles (lava, etc) probably don't
			need defnames, and you shouldn't need defnames for every dupeitem of something.
		6) Some of these can be used as animations (and you'll see 'animation' in the tiledata flags comment
			on the generated def), and should perhaps be given defnames of i_fx_something.
		7) Compare weight on the generated items to weight on similar items (for weapons and such) - I think the
			weight in the tiledata may be different from how we and sphere do weight.
		
		(This does detect and write dupeitems normally when writing out stuff, but it won't detect that something
		should be a dupeitem of some existing itemdef (like the yew tree piece))
		
		Quoth changes.txt:
		This code will be very useful, however, each time a new UO expansion comes out. We won't have to look
		through the MUL files by hand or anything. Plus, occasionally InsideUO misses an item (I counted at least
		one real item dispid which this code found that wasn't shown in InsideUO (0x2255, "ghost missile")), and if we
		we using InsideUO we would still have to wait for it to be updated first.
	3. Implement some RunUO commands, particularly the commands for adding/removing stuff. This may require making a
		new script (or something in the core) to look through RunUO scripts included in ./imports, to copy the
		defnames into a new script (as constants), so that they resolve to the right defs in SE. Or perhaps
		Imports.cs will just get a new class for examining RunUO scripts.
	4. Add code to support Axis, and possibly Pandora's Box (A RunUO tool). For Axis, we may need
		to modify Axis itself for a few things (attribs and flags for instance). Any changes to Axis itself should
		always be contributed back into the main Axis source tree (at least we should contribute them as patches,
		even if they are not accepted), and our changes should not break sphere. Any Axis
		feature enhancements which we make which could also work on Sphere should be enabled for Sphere as well.
		We will probably need to add some sort of feature-flag for SE in the Axis settings, similar to how Axis
		supports both the 55* and 99*+ sphere versions.
	5. Make more tests that're run with RunTests, which test whatever anyone can think of a good way of testing.
	7. On stack on, stacking on.z+on.height, if it passes src.z+src.height+src.height or (127-height) it stacks at same z.
	8. Additional (third) command prefix, defaulting to '.
	9. Autogenerating .add menu by categories, etc. Autogenerating crafting menus too?
